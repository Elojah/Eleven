<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link href="css/bootstrap-rating.css" rel="stylesheet">

<!-- CSS -->
<link href='css/fiche.css' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="css/jquery-comments.css">
<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css/multi-screen-css.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<!-- Font -->
<link href='https://fonts.googleapis.com/css?family=Alegreya+Sans:500' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>

</head>

<!-- DOM -->
<body>
	<div id="header" class="header"></div>
	<div id="critere" class="critere"></div>
	<div id="screen1" class="ms-container ms-default">
		<h1 id="load0" class="load0" data-content="Et&nbsp;si&nbsp;c'&eacute;tait&nbsp;vous&nbsp;?">
			Et&nbsp;si&nbsp;c'&eacute;tait&nbsp;vous&nbsp;?
		</h1>
		<div class="spinner"></div>
	</div>
	<div id="screen2" class="ms-container">
		<div class="img-container">
			<img id="img2" src="img/criteres.jpg" class="ms-nav-link" data-ms-target="screen3" data-ms-animation="right"></img>
		</div>
	</div>
	<div id="screen3" class="ms-container">
		<h1 id="load1" class="load0" data-content="Votre&nbsp;r&eacute;ussite&nbsp;est&nbsp;en&nbsp;marche">
			Votre&nbsp;r&eacute;ussite&nbsp;est&nbsp;en&nbsp;marche
		</h1>
		<div class="spinner1">
		  <div class="bounce1"></div>
		  <div class="bounce2"></div>
		  <div class="bounce3"></div>
		</div>
	</div>
	<div id="screen4" class="ms-container">
		<div class="img-container">
			<img id="img3" src="img/lib.jpg" class="ms-nav-link img-resize" data-ms-exit-time="700" data-ms-enter-time="700" data-ms-target="screen5" data-ms-animation="right" onclick="initMap();initTimeLine()"></img>
		</div>
	</div>
	<div id="screen5" class="ms-container">
		<div class="container">
			<h2 class="center">DESCRIPTION DE LA FORMATION</h2>
			<img id="basket" src="img/basket.svg" alt="basket" class="ms-nav-link" data-ms-exit-time="700" data-ms-enter-time="700" data-ms-target="screen3" data-ms-animation="right">
			<div class="row">
				<div class="col-sm-8">
					<div class="module">
						<div class="row">
							<div class="col-sm-3">
								<div class="row">
									<div class="col-sm-12">
										<img src="img/hec.jpg" alt="HEC" height="" width="100%">
									</div>
								</div>
								<div class="row">
									<div class="col-xs-4">
										<img src="img/video.png" alt="video" height="" width="100%" onclick="$('#map').css('display', 'none');$('#timecont').css('display', 'block');">
									</div>
									<div class="col-xs-4">
										<img src="img/map.png" alt="map" height="" width="100%" onclick="$('#map').css('display', 'block');$('#timecont').css('display', 'none');initMap()">
									</div>
									<div class="col-xs-4">
										<img src="img/basket.png" alt="basket" height="" width="100%" onclick="">
									</div>
								</div>
							</div>
							<div class="col-sm-9">
								<h3>
									CAP Agricole Jardinier Paysagiste
								</h3>
								<p>
									Le jardinier paysagiste travaille pour les entreprises paysagistes,  les villes,  les collectivités territoriales. Il entretient les espaces verts  ou les jardins ; il procède aux  travaux d'aménagement (drainage), arrosage, décoration, plantation de végétaux d'ornement en utilisant  de fertilisants et produits phytopharmaceutiques. Il  entretient le matériel et est en relation avec les fournisseurs ou les clients.
								</p>
								<p>
									Cette formation remplace le CAPA Travaux paysagers à compter de la rentrée 2015.
								</p>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="module">
						<div class="center">
							<h3>Note g&eacute;n&eacute;rale</h3>
						</div>
						<div class="center">
							<input type="hidden" class="rating" data-readonly value="3.5"/>
						</div>
						<div class="row">
							<div class="center col-sm-6">
								COMPETENCES
							</div>
							<div class="center col-sm-6">
								<input type="hidden" class="rating" data-readonly value="4.5"/>
							</div>
						</div>
						<div class="row">
							<div class="center col-sm-6">
								OBJECTIFS
							</div>
							<div class="center col-sm-6">
								<input type="hidden" class="rating" data-readonly value="2.5"/>
							</div>
						</div>
						<div class="row">
							<div class="center col-sm-6">
								EQUIPE
							</div>
							<div class="center col-sm-6">
								<input type="hidden" class="rating" data-readonly value="3"/>
							</div>
						</div>
						<div class="row">
							<div class="center col-sm-6">
								ACCUEIL
							</div>
							<div class="center col-sm-6">
								<input type="hidden" class="rating" data-readonly value="2.5"/>
							</div>
						</div>
						<div class="row">
							<div class="center col-sm-6">
								METHODES
							</div>
							<div class="center col-sm-6">
								<input type="hidden" class="rating" data-readonly value="1.75"/>
							</div>
						</div>
						</h4>
					</div>
				</div>
			</div><div class="row">
			<div class="col-md-12">
		  		<div id="map" class="module">	
				</div>
				<div id="timecont" class="module">
					<img src="img/marker-xxl.png" style="position:'absolute';height:50px;width:50px;margin-left:430px;">
					<div id="timeline"></div>
					<img class="reverse" src="img/marker-xxl.png" style="position:'absolute';height:50px;width:50px;margin-left:730px;">
				</div>
			</div>
			<div class="col-md-12">
				<div  class="module">
					<div class="row">
						<div id="duration" class="center col-md-6"></div> 
       					<div id="distance" class="center col-md-6"></div>
   					</div>
       			</div> 
       		</div>
		  </div>
		<h2 class="center">COMMENTAIRES</h2>
		  <div class="row">
	    	<div class="col-sm-6">
			  	<div class="module">
					<div id="comments-users"></div>
			    </div>
		    </div>
	    	<div class="col-sm-6">
			    <div class="module">
			    	<div id="comments-compagnies"></div>
				</div>
		    </div>
		  </div>
		</div>
	</div>
</body>

<!-- Timeline -->
<script type="text/javascript" src="js/Chart.min.js"></script>
<!-- Data -->
<script type="text/javascript" src="data/comment-data.js"></script>
<!-- Comment -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap-rating.js"></script>
<script type="text/javascript" src="js/multi-screen.min.js"></script>
<script type="text/javascript">
	var myLineChart;
	$(document).ready(function() { MultiScreen.init(); });
</script>
<script type="text/javascript" src="js/jquery-comments.js"></script>

<script type="text/javascript">
(function ($) {
	$.fn.photoResize = function (options) {

		var element	= $(this),
			defaults = {
	            bottomSpacing: 10
			};

		$(element).load(function () {
			updatePhotoHeight();

			$(window).bind('resize', function () {
				updatePhotoHeight();
			});
		});

		options = $.extend(defaults, options);

		function updatePhotoHeight() {
			var o = options,
				photoHeight = $(window).height();

			$(element).attr('height', photoHeight - o.bottomSpacing);
		}
		updatePhotoHeight();
	};

}(jQuery));
</script>

<script type="text/javascript">
	$(function() {
		$('#comments-users').comments({
			profilePictureURL: 'https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png',
			roundProfilePictures: true,
			textareaRows: 1,
			readOnly: true,
			getComments: function(success, error) {
				setTimeout(function() {
					success(commentsArray0);
				}, 500);
			},
			postComment: function(data, success, error) {
				setTimeout(function() {
					success(data);
				}, 500);
			},
			putComment: function(data, success, error) {
				setTimeout(function() {
					success(data);
				}, 500);
			},
			deleteComment: function(data, success, error) {
				setTimeout(function() {
					success();
				}, 500);
			},
			upvoteComment: function(data, success, error) {
				setTimeout(function() {
					success(data);
				}, 500);
			},
			uploadAttachments: function(dataArray, success, error) {
				setTimeout(function() {
					success(dataArray);
				}, 500);
			},
		});
		$('#comments-compagnies').comments({
			profilePictureURL: 'https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png',
			roundProfilePictures: true,
			textareaRows: 1,
			readOnly: true,
			getComments: function(success, error) {
				setTimeout(function() {
					success(commentsArray1);
				}, 500);
			},
			postComment: function(data, success, error) {
				setTimeout(function() {
					success(data);
				}, 500);
			},
			putComment: function(data, success, error) {
				setTimeout(function() {
					success(data);
				}, 500);
			},
			deleteComment: function(data, success, error) {
				setTimeout(function() {
					success();
				}, 500);
			},
			upvoteComment: function(data, success, error) {
				setTimeout(function() {
					success(data);
				}, 500);
			},
			uploadAttachments: function(dataArray, success, error) {
				setTimeout(function() {
					success(dataArray);
				}, 500);
			},
		});

	});
</script>

<script type="text/javascript">
	function initMap() {
		var directionsService = new google.maps.DirectionsService();
       	var directionsDisplay = new google.maps.DirectionsRenderer();

		var myOptions = {
			zoom:7,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		}

       var map = new google.maps.Map(document.getElementById("map"), myOptions);
       directionsDisplay.setMap(map);

       var request = {
           origin: {lat: 49.801152, lng: 2.389481},
           destination: {lat: 49.799421, lng: 2.492560},
           travelMode: google.maps.DirectionsTravelMode.DRIVING
       };

       directionsService.route(request, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {

             // Display the distance:
             document.getElementById('distance').innerHTML = "Distance: " +
                Math.round(response.routes[0].legs[0].distance.value / 1000 * 10) / 10 + " km";

             // Display the duration:
             document.getElementById('duration').innerHTML =  "Durée en voiture: " +
                Math.round(response.routes[0].legs[0].duration.value / 3600 * 10) / 10 + " h";

             directionsDisplay.setDirections(response);
          }
       });
   }
</script>


<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAQE4ZUjkFVJjQ4jFn2C4nsJadlHBMtlLg">
</script>
<script type="text/javascript">
	function whichAnimationEvent(){
	  var t,
	      el = document.createElement("fakeelement");
	  var animations = {
	  	"animation"      : "animationend",
	  	"OAnimation"     : "oAnimationEnd",
	  	"MozAnimation"   : "animationend",
	  	"WebkitAnimation": "webkitAnimationEnd"
	  }
	  for (t in animations){
	    if (el.style[t] !== undefined){
	      return animations[t];
	    }
	  }
	}
	var animationEvent = whichAnimationEvent();

	var load0 = document.getElementById('load0');
	load0.addEventListener(animationEvent, function (event) {
		console.log("Animation ended")
		$('#img2').photoResize();
		var load0sec = document.getElementById('load0');
		load0sec.style.backgroundColor = '#f5f7f6';
		document.body.style.backgroundColor = '#f5f7f6';
		MultiScreen.switch_screens({target_id: 'screen2', 'animation_time': 700, 'animation_command': "right"});
	});
	var load1 = document.getElementById('load1');
	load1.addEventListener(animationEvent, function (event) {
		console.log("Animation ended")
		$('#critere').css('visibility', 'visible');
		$('#img3').photoResize();
		var load0sec = document.getElementById('load1');
		load0sec.style.backgroundColor = '#f5f7f6';
		document.body.style.backgroundColor = '#f5f7f6';
		MultiScreen.switch_screens({target_id: 'screen4', 'animation_time': 700, 'animation_command': "right"});
	});
</script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  function initTimeLine() {
  	google.charts.load("current", {packages:["timeline"]});
	  google.charts.setOnLoadCallback(drawChart);
	  function drawChart() {
	    var container = document.getElementById('timeline');
	    var chart = new google.visualization.Timeline(container);
	    var dataTable = new google.visualization.DataTable();

	    dataTable.addColumn({ type: 'string', id: 'Role' });
	    dataTable.addColumn({ type: 'string', id: 'Name' });
	    dataTable.addColumn({ type: 'date', id: 'Start' });
	    dataTable.addColumn({ type: 'date', id: 'End' });
	    dataTable.addRows([
	      [ 'Formation', 'Formation', new Date(2016, 3, 3), new Date(2017, 5, 4) ],
	      [ 'Formation', "Recherche d'emploi", new Date(2017, 5, 5), new Date(2018, 6, 12) ],
	      [ 'Formation', 'Job trouve !', new Date(2018, 6, 13), new Date(2018, 6, 14) ]]);

	    var options = {
	      timeline: { groupByRowLabel: true },
	      chartArea: {height: "80%", width: "80%"},
	      width: 800,
	      height: 250
	    };

	    chart.draw(dataTable, options);
 	 }
	}
</script>
</html>
